<div class="container mt-5">
  <h2 class="text-center mb-4">Gesti贸n de Productos</h2>

  <!-- Formulario para agregar o editar productos -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <form (ngSubmit)="agregarProducto()" #productoForm="ngForm" class="row g-3">
        <div class="col-md-6">
          <label for="nombre" class="form-label">Nombre</label>
          <input
            type="text"
            id="nombre"
            name="nombre"
            [(ngModel)]="nuevoProducto.nombre"
            class="form-control"
            placeholder="Nombre del producto"
            required
          />
        </div>
        <div class="col-md-6">
          <label for="descripcion" class="form-label">Descripci贸n</label>
          <input
            type="text"
            id="descripcion"
            name="descripcion"
            [(ngModel)]="nuevoProducto.descripcion"
            class="form-control"
            placeholder="Descripci贸n del producto"
            required
          />
        </div>
        <div class="col-md-6">
          <label for="precio" class="form-label">Precio</label>
          <input
            type="number"
            id="precio"
            name="precio"
            [(ngModel)]="nuevoProducto.precio"
            class="form-control"
            placeholder="Precio"
            step="0.01"
            required
          />
        </div>
        <div class="col-md-6">
          <label for="stock" class="form-label">Stock</label>
          <input
            type="number"
            id="stock"
            name="stock"
            [(ngModel)]="nuevoProducto.stock"
            class="form-control"
            placeholder="Cantidad en stock"
            required
          />
        </div>
        <div class="col-12 text-center">
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="!productoForm.valid"
          >
            {{ nuevoProducto.id ? 'Actualizar Producto' : 'Agregar Producto' }}
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Tabla de productos -->
  <div class="card shadow-sm">
    <div class="card-body">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>Nombre</th>
            <th>Descripci贸n</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productos">
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.descripcion }}</td>
            <td>{{ producto.precio | currency }}</td>
            <td>{{ producto.stock }}</td>
            <td>
              <button
                class="btn btn-danger btn-sm me-2"
                (click)="eliminarProducto(producto.id!)"
              >
                Eliminar
              </button>
              <button
                class="btn btn-info btn-sm me-2"
                (click)="verProducto(producto.id!)"
              >
                Ver
              </button>
              <button
                class="btn btn-warning btn-sm"
                (click)="actualizarProducto(producto.id!)"
              >
                Editar
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
